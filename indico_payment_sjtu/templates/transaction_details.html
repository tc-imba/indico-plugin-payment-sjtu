{% extends 'events/payment/transaction_details.html' %}
{% from 'message_box.html' import message_box %}

{% block details %}
    {% if not transaction.data._migrated %}
        <dt>{% trans %}Trade Number{% endtrans %}</dt>
        <dd>{{ transaction.data.trade_no }}</dd>
    {% endif %}
    <dt>{% trans %}Refund Button{% endtrans %}</dt>
    <dd>
        <div class="ui toggle checkbox">
            <input type="checkbox" value="y" id="editing" name="editing">
            <label></label>
        </div>
        <div class="form-field-description">{% trans %}If enabled, registrant can request a refund.{% endtrans %}</div>
    </dd>
{% endblock %}

{% block warning_box %}
    {% if transaction.amount != transaction.registration.price %}
        {% call message_box('warning') %}
            <p>
                {%- trans %}The paid amount does not match the required amount. Please contact the registrant to solve the issue.{% endtrans -%}
            </p>
            <p>
                {%- trans %}Paid: {% endtrans -%}
                {{- format_currency(transaction.amount, transaction.currency, locale=session.lang) -}}
            </p>
            <p>
                {%- trans %}Required: {% endtrans -%}
                {{- transaction.registration.render_price() -}}
            </p>
        {% endcall %}
    {% endif %}
{% endblock %}
